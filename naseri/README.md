  <div dir="rtl">  
  
# نقشه تهران ناصری

ترسیم نقشه دارالخلافه ناصری تهران به دستور ناصرالدین شاه در سال ۱۲۸۵ قمری توسط عبدالغفار نجم‌الملک و به کمک شاگردان مدرسه دارالفنون شروع و در سال ۱۳۰۵ قمری به پایان رسید. این نسخه از نقشه توسط کتابخانه کنگره ایالات متحده همزمان با فراگیری ویروس کرونا در سال ۲۰۲۰ در دسترس عموم قرار گرفت و توسط ساجد طیبی در اختیار این پروژه قرار داده شد تا با تطبیق این نقشه با نقشه و عکس هوایی کنونی تهران در بستر `leaflet.js` در تاریخ ۱۸ خرداد ۱۳۹۹ [منتشر شد](https://alitayebi.github.io/maps/naseri/). 

[![نقشه تهران ناصری](https://alitayebi.github.io/maps/naseri/assets/thumbnail-hr.png)](https://alitayebi.github.io/maps/naseri/)

## فرایند انجام پروژه

### ۱. دریافت نقشه از سایت کنگره ایالات متحده

فایل این نقشه در فرمت `tiff`  با کیفیت بالا و حجم حدود ۷۰۰ مگابایت در زمان فراگیری ویروس کرونا توسط کتابخانه کنگره امریکا در [این آدرس](https://www.loc.gov/item/2009582796/) در دسترس عموم قرار گرفت. ~~زمان انتشار این پروژه این فایل دیگر در دسترس نبود ولی~~ با کلیک بر روی عکس زیر می‌توانید این فایل را دانلود کنید.

[![نقشه دارالخلافه ناصری تهران](https://alitayebi.github.io/maps/naseri/assets/tehranNaseri.png)](https://www.loc.gov/item/2009582796/)

### ۲. موزاییک کردن نقشه

نقشه دارالخلافه ناصری در واقع متشکل از ۲۰ نقشه جداگانه است که در کنار هم صحافی شده‌اند. در این مرحله این ۲۰ نقشه از نقشه اصلی استخراج شد و در نرم‌افزار فوتوشاپ کنار هم قرار گرفت. در کنار هم قرار گرفتن این ۲۰ نقشه در بخش‌هایی اختلاف وجود داشت که سعی شد در نهایت فایل یکپارچه‌ای به دست آید.

### ۳. تطبیق مکانی نقشه ناصری با نقشه امروزی

این مرحله که زمان‌برترین بخش پروژه بود، با کمک افزونه `georefrencer` در نرم افزار `QGIS` نسخه ۳.۱۲.۲ انجام و بعد در نرم‌افزار `ArcGIS Desktop 10.7` نهایی شد. این مرحله در ۵ بار و با تطبیق بیش از ۲۰۰۰ نقطه صورت گرفت. پیچیدگی تطبیق در این بود که در صورت اولویت دادن به دقت، کیفیت خروجی کاهش می‌یافت و در صورت تلاش برای حفظ کیفیت و خوانایی خروجی، دقت پایین می‌آمد. در نهایت برای ایجاد تعادل بین دقت و کیفیت این خروجی با تطبیق ۲۵۹ نقطه مهم در نقشه به دست آمد. فایل تطبیق داده شده و مکانی شده را در فرمت `tiff` می‌توانید با کلیک بر روی عکس زیر دانلود کنید. این فایل که در نظام مختصاتی `UTM WGS 1984` تهیه شده است را می‌توانید در نرم‌افزارهای پردازش مکانی مانند `ArcGIS` و `QGIS` اضافه کنید. 

[![](https://alitayebi.github.io/maps/naseri/assets/tehranNaseriGR.png)](https://alitayebi.github.io/maps/sources/tehranNaseri.zip)

### ۴. طراحی پلتفرم آنلاین برای نمایش و تطبیق نقشه ناصری با نقشه امروزی

نقشه تهران ناصری به کمک کتابخانه جاوااسکریپت `leaflet.js` تهیه شده است و در آن از نقشه‌ پایه `OpenStreetMap` و عکس‌های ماهواره‌ای `Bing Map`، و برای امکان تطبیق بین نقشه ناصری و تهران امروزی از افزونه `side-by-side` استفاده شده است. کدهای نقشه در همین مخزن قابل دسترسی است و از آن‌جا که به صورت آماتور تهیه شده از هرگونه اصلاح و پیشنهاد استقبال می‌شود.



## منابع

۱. نقشه دارالخلافه ناصری تهران، کتابخانه کنگره ایالات متحده امریکا، https://www.loc.gov/item/2009582796 دسترسی ۱۴ مارس ۲۰۲۰

۲. کتابخانه جاوااسکریپت [Leaflet](https://github.com/Leaflet/Leaflet)

۳. افزونه [leaflet-side-by-side](https://github.com/digidem/leaflet-side-by-side)

۴. افزونه [Leaflet.Sync](https://github.com/jieter/Leaflet.Sync)



  </div>
